{% extends "bootstrap/base.html" %}

{% block scripts %}

<script type="text/javascript">
	
        document.addEventListener('DOMContentLoaded', () => {

            let socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port),
                loginForm = document.getElementById('userform');

            if (localStorage.getItem("username") != null) {
                const username = localStorage.getItem("username");
                console.log( "username in localStorage:", username);
                loginForm.username.value = username;
            }


            loginForm.addEventListener('submit', event => {
                event.preventDefault();
                let username = loginForm.username.value;
                localStorage.setItem("username", username);
           
                loginForm.submit();
            });

        });
</script>

{% endblock %}

{% block body %}

<div class='container'>
	<h1>Input a username!</h1>

	<form id="userform" action = '/' method = 'post' class ='form user-form'>
		<input type='text' class='userForm' id="username" name="username" placeholder="Input Username">
		<button type="submit" class="btn btn-primary">Submit</button>
	</form>
	<h2 id='tester'>{{ username }}</h2>
</div>

{% endblock %}